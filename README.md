# LinkMe äº¤å‹èŠå¤©ç¤¾äº¤è½¯ä»¶åç«¯

## é¡¹ç›®ç®€ä»‹

LinkMe æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„äº¤å‹èŠå¤©ç¤¾äº¤è½¯ä»¶åç«¯ç³»ç»Ÿï¼ŒåŸºäº Spring Boot 3 å¼€å‘ï¼Œæä¾›å®Œæ•´çš„ç¤¾äº¤åŠŸèƒ½åŒ…æ‹¬ç”¨æˆ·ç®¡ç†ã€å¸–å­å‘å¸ƒã€åŒ¹é…äº¤å‹ã€èŠå¤©é€šä¿¡ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Spring Boot 3.1.6
- **æ•°æ®åº“**: MySQL 8.0+
- **ORM**: MyBatis 3.0.1
- **ç¼“å­˜**: Redis
- **è®¤è¯**: JWT
- **æ–‡æ¡£**: Swagger/OpenAPI 3.0
- **æ„å»ºå·¥å…·**: Maven
- **Java ç‰ˆæœ¬**: 17

## æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·ç®¡ç†

- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- ä¸ªäººä¿¡æ¯ç®¡ç†
- å¤´åƒä¸Šä¼ 
- éšç§è®¾ç½®

### 2. å¸–å­ç³»ç»Ÿ

- å‘å¸ƒå¸–å­ï¼ˆæ”¯æŒå›¾ç‰‡ã€æ ‡ç­¾ï¼‰
- å¸–å­æµè§ˆå’Œæœç´¢
- è¯„è®ºå’Œç‚¹èµ
- æ”¶è—åŠŸèƒ½ï¼ˆæ”¯æŒè‡ªå®šä¹‰æ”¶è—å¤¹ï¼‰

### 3. åŒ¹é…äº¤å‹

- åŸºäºæ ‡ç­¾çš„æ™ºèƒ½åŒ¹é…
- çº¢å¿ƒæœºåˆ¶
- å…³æ³¨ç³»ç»Ÿ
- äº²å¯†å…³ç³»ç®¡ç†

### 4. èŠå¤©é€šä¿¡

- ç§èŠåŠŸèƒ½
- å¤šåª’ä½“æ¶ˆæ¯ï¼ˆæ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘ï¼‰
- è¯­éŸ³/è§†é¢‘é€šè¯
- æ¶ˆæ¯é€šçŸ¥

### 5. é€šçŸ¥ç³»ç»Ÿ

- å®æ—¶é€šçŸ¥æ¨é€
- å¤šç§é€šçŸ¥ç±»å‹
- æœªè¯»æ¶ˆæ¯ç®¡ç†

## é¡¹ç›®ç»“æ„

```
src/main/java/com/linkme/backend/
â”œâ”€â”€ LinkMeApplication.java          # å¯åŠ¨ç±»
â”œâ”€â”€ common/                         # å…¬å…±ç±»
â”‚   â”œâ”€â”€ R.java                      # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”œâ”€â”€ GlobalExceptionHandler.java # å…¨å±€å¼‚å¸¸å¤„ç†
â”‚   â””â”€â”€ JwtUtil.java                # JWTå·¥å…·ç±»
â”œâ”€â”€ config/                         # é…ç½®ç±»
â”‚   â”œâ”€â”€ JwtInterceptor.java         # JWTæ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ WebMvcConfig.java           # Webé…ç½®
â”‚   â””â”€â”€ OpenApiConfig.java          # APIæ–‡æ¡£é…ç½®
â”œâ”€â”€ controller/                     # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ UserController.java         # ç”¨æˆ·æ§åˆ¶å™¨
â”‚   â””â”€â”€ PostController.java          # å¸–å­æ§åˆ¶å™¨
â”œâ”€â”€ service/                        # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ UserService.java            # ç”¨æˆ·æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€ PostService.java            # å¸–å­æœåŠ¡æ¥å£
â”‚   â””â”€â”€ impl/                       # æœåŠ¡å®ç°ç±»
â”œâ”€â”€ mapper/                         # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ UserMapper.java             # ç”¨æˆ·Mapper
â”‚   â””â”€â”€ PostMapper.java             # å¸–å­Mapper
â””â”€â”€ entity/                         # å®ä½“ç±»
    â”œâ”€â”€ User.java                   # ç”¨æˆ·å®ä½“
    â”œâ”€â”€ Post.java                   # å¸–å­å®ä½“
    â””â”€â”€ ...
```

## æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

1. **ç”¨æˆ·è¡¨ (user)**: å­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
2. **å¸–å­è¡¨ (post)**: å­˜å‚¨å¸–å­å†…å®¹
3. **è¯„è®ºè¡¨ (comment)**: å­˜å‚¨è¯„è®ºä¿¡æ¯
4. **ç‚¹èµè¡¨ (like)**: å­˜å‚¨ç‚¹èµå…³ç³»
5. **å…³æ³¨è¡¨ (follow)**: å­˜å‚¨å…³æ³¨å…³ç³»
6. **çº¢å¿ƒè¡¨ (heart)**: å­˜å‚¨çº¢å¿ƒå…³ç³»
7. **åŒ¹é…è¡¨ (match)**: å­˜å‚¨åŒ¹é…å…³ç³»
8. **ä¼šè¯è¡¨ (conversation)**: å­˜å‚¨èŠå¤©ä¼šè¯
9. **æ¶ˆæ¯è¡¨ (message)**: å­˜å‚¨èŠå¤©æ¶ˆæ¯
10. **é€šçŸ¥è¡¨ (notification)**: å­˜å‚¨é€šçŸ¥ä¿¡æ¯

## API æ¥å£è®¾è®¡

### ç”¨æˆ·ç®¡ç†æ¥å£

- `GET /user/{user_id}/info` - è·å–ç”¨æˆ·ä¿¡æ¯
- `PUT /user/{user_id}/info` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `POST /user/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /user/login` - ç”¨æˆ·ç™»å½•

### å¸–å­ç®¡ç†æ¥å£

- `GET /posts` - è·å–å¸–å­åˆ—è¡¨
- `POST /posts` - åˆ›å»ºå¸–å­
- `GET /posts/{post_id}` - è·å–å¸–å­è¯¦æƒ…
- `PUT /posts/{post_id}` - ç¼–è¾‘å¸–å­
- `DELETE /posts/{post_id}` - åˆ é™¤å¸–å­

### è¯„è®ºä¸äº’åŠ¨æ¥å£

- `POST /posts/{post_id}/comments` - å‘è¡¨è¯„è®º
- `GET /posts/{post_id}/comments` - è·å–è¯„è®ºåˆ—è¡¨
- `POST /posts/{post_id}/like` - ç‚¹èµå¸–å­
- `DELETE /posts/{post_id}/like` - å–æ¶ˆç‚¹èµ

### å…³æ³¨ä¸çº¢å¿ƒæ¥å£

- `POST /follow/{user_id}` - å…³æ³¨ç”¨æˆ·
- `DELETE /follow/{user_id}` - å–æ¶ˆå…³æ³¨
- `POST /heart/{user_id}` - ç»™ç”¨æˆ·ç‚¹çº¢å¿ƒ
- `DELETE /heart/{user_id}` - å–æ¶ˆçº¢å¿ƒ

### åŒ¹é…ä¸æ¨èæ¥å£

- `GET /matches` - è·å–åŒ¹é…åˆ—è¡¨
- `GET /recommended_users` - è·å–æ¨èç”¨æˆ·

### èŠå¤©ä¸é€šçŸ¥æ¥å£

- `GET /conversations` - è·å–ä¼šè¯åˆ—è¡¨
- `POST /conversations` - åˆ›å»ºä¼šè¯
- `GET /conversations/{conversation_id}/messages` - è·å–æ¶ˆæ¯è®°å½•
- `POST /conversations/{conversation_id}/messages` - å‘é€æ¶ˆæ¯
- `GET /notifications` - è·å–é€šçŸ¥åˆ—è¡¨

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 17+
- MySQL 8.0+
- Redis 6.0+
- Maven 3.6+

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone <repository-url>
cd LinkMe-backend
```

2. **é…ç½®æ•°æ®åº“**

```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p < src/main/resources/sql/init.sql
```

3. **ä¿®æ”¹é…ç½®æ–‡ä»¶**

```yaml
# src/main/resources/application.yml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/linkme?useSSL=false&serverTimezone=Asia/Shanghai
    username: your_username
    password: your_password
  redis:
    host: localhost
    port: 6379

jwt:
  secret: your_jwt_secret_key
  expire-seconds: 86400
```

4. **è¿è¡Œé¡¹ç›®**

```bash
mvn clean install
mvn spring-boot:run
```

5. **è®¿é—® API æ–‡æ¡£**

```
# Swagger UI (æ¨è)
http://localhost:8080/swagger-ui/index.html

# æˆ–ç›´æ¥è®¿é—®ï¼ˆå¦‚æœé…ç½®äº†è·¯å¾„ï¼‰
http://localhost:8080/swagger-ui.html

# OpenAPI JSONæ–‡æ¡£
http://localhost:8080/v3/api-docs
```

### åœ¨ Swagger UI ä¸­ä½¿ç”¨ Token è®¤è¯

1. **è·å– Token**
   - é¦–å…ˆè°ƒç”¨ `/user/register`ï¼ˆæ³¨å†Œï¼‰æˆ– `/user/login`ï¼ˆç™»å½•ï¼‰æ¥å£
   - ä»å“åº”çš„ `data.token` å­—æ®µä¸­å¤åˆ¶ token

2. **è®¾ç½® Token**
   - åœ¨ Swagger UI é¡µé¢å³ä¸Šè§’æ‰¾åˆ° ğŸ”’ **Authorize** æŒ‰é’®å¹¶ç‚¹å‡»
   - åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼š
     - æ‰¾åˆ° `bearerAuth` è¾“å…¥æ¡†
     - **è¾“å…¥ tokenï¼ˆä¸éœ€è¦åŒ…å« 'Bearer' å‰ç¼€ï¼‰**
     - ç‚¹å‡» **Authorize** æŒ‰é’®
     - ç‚¹å‡» **Close** å…³é—­å¯¹è¯æ¡†

3. **æµ‹è¯•éœ€è¦è®¤è¯çš„æ¥å£**
   - ç°åœ¨æ‰€æœ‰æ ‡è®°äº† ğŸ”’ å›¾æ ‡çš„æ¥å£éƒ½ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´ä¸­åŒ…å« token
   - token ä¼šè¢«æŒä¹…åŒ–ä¿å­˜ï¼Œåˆ·æ–°é¡µé¢åä»ç„¶æœ‰æ•ˆ

**æ³¨æ„äº‹é¡¹ï¼š**
- æ³¨å†Œå’Œç™»å½•æ¥å£ä¸éœ€è¦ tokenï¼ˆå®ƒä»¬æ˜¯å…¬å¼€æ¥å£ï¼‰
- å…¶ä»–æ¥å£ï¼ˆå¦‚è·å–ç”¨æˆ·ä¿¡æ¯ã€æ›´æ–°ç”¨æˆ·ä¿¡æ¯ç­‰ï¼‰éƒ½éœ€è¦ token
- token æœ‰æ•ˆæœŸç”±é…ç½®æ–‡ä»¶ä¸­çš„ `jwt.expire-seconds` è®¾ç½®ï¼ˆé»˜è®¤ 24 å°æ—¶ï¼‰

## å¼€å‘è§„èŒƒ

### 1. ä»£ç è§„èŒƒ

- ä½¿ç”¨å°é©¼å³°å‘½åæ³•
- æ¯ä¸ªå‡½æ•°éƒ½è¦æœ‰æ³¨é‡Š
- ç»Ÿä¸€ä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ•°æ®åº“å­—æ®µ
- API è·¯å¾„ä½¿ç”¨ä¸‹åˆ’çº¿è¿æ¥

### 2. æ•°æ®åº“è§„èŒƒ

- è¡¨åä½¿ç”¨ä¸‹åˆ’çº¿å‘½å
- å­—æ®µåä½¿ç”¨ä¸‹åˆ’çº¿å‘½å
- ä¸»é”®ç»Ÿä¸€ä½¿ç”¨è‡ªå¢ ID
- å¤–é”®çº¦æŸå®Œæ•´

### 3. API è§„èŒƒ

- éµå¾ª RESTful API è®¾è®¡
- ç»Ÿä¸€å“åº”æ ¼å¼
- å®Œå–„çš„é”™è¯¯å¤„ç†
- è¯¦ç»†çš„ API æ–‡æ¡£

## éƒ¨ç½²è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. ä¿®æ”¹æ•°æ®åº“è¿æ¥é…ç½®
2. é…ç½® Redis è¿æ¥
3. è®¾ç½® JWT å¯†é’¥
4. é…ç½®æ—¥å¿—çº§åˆ«
5. è®¾ç½®æœåŠ¡å™¨ç«¯å£


## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç 
4. åˆ›å»º Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€: https://github.com/linkme/
- é—®é¢˜åé¦ˆ:
- é‚®ç®±:

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-23)

- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®Œæˆæ•°æ®åº“è®¾è®¡
- å®Œå–„ API æ–‡æ¡£
- åŠŸèƒ½åˆå§‹æ­å»º


### v1.1.0 (2025.10.31)

**ç”¨æˆ·ç®¡ç†åŠŸèƒ½**
- æ–°å¢å¯†ç ä¿®æ”¹å’Œå¿˜è®°å¯†ç åŠŸèƒ½
- æ–°å¢å¯†ç ã€é‚®ç®±ã€æ‰‹æœºå·éªŒè¯å™¨
- æ–°å¢éªŒè¯ç æœåŠ¡
- æ–°å¢ç”¨æˆ·åˆ—è¡¨å’Œåˆ é™¤ç”¨æˆ·æ¥å£
- å®Œå–„ Swagger API æ–‡æ¡£å’Œ Token è®¤è¯é…ç½®
- ä¼˜åŒ–å‚æ•°éªŒè¯å’Œå¼‚å¸¸å¤„ç†

**å¸–å­ç®¡ç†åŠŸèƒ½**
- æ–°å¢å®Œæ•´çš„å¸–å­ CRUD åŠŸèƒ½ï¼ˆåˆ›å»ºã€æŸ¥è¯¢ã€ç¼–è¾‘ã€åˆ é™¤ï¼‰
- æ–°å¢æ”¯æŒå›¾ç‰‡å’Œæ ‡ç­¾çš„å¸–å­åˆ›å»ºåŠŸèƒ½
- æ–°å¢å¸–å­è¯¦æƒ…èšåˆåŠŸèƒ½ï¼ˆå›¾ç‰‡ã€æ ‡ç­¾ã€ç‚¹èµæ•°ï¼‰
- æ–°å¢è¯„è®ºåŠŸèƒ½ï¼ˆå‘è¡¨è¯„è®ºã€è·å–è¯„è®ºåˆ—è¡¨ï¼‰
- æ–°å¢ç‚¹èµåŠŸèƒ½ï¼ˆç‚¹èµã€å–æ¶ˆç‚¹èµï¼‰
- æ–°å¢å¸–å­åˆ—è¡¨æŸ¥è¯¢åŠŸèƒ½ï¼ˆæ”¯æŒåˆ†é¡µã€æŒ‰ç”¨æˆ·IDã€æŒ‰æ ‡ç­¾ç­›é€‰ï¼‰
- æ–°å¢ PostCreateRequest å’Œ PostDetailResponse DTO ç±»

### v1.2.0 (2025-11-02)

**å®æ—¶èŠå¤©åŠŸèƒ½**
- æ–°å¢ WebSocket å®æ—¶é€šä¿¡æ”¯æŒ
- æ–°å¢åˆæ­¥ä¼šè¯ç®¡ç†å’Œæ¶ˆæ¯å‘é€åŠŸèƒ½
- æ–°å¢åˆæ­¥æ¶ˆæ¯å·²è¯»/æœªè¯»çŠ¶æ€ç®¡ç†